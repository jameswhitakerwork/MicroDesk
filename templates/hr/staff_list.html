{% extends "base.html" %}
{% load staticfiles %}
{% load django_tables2 %}



{% block body-content %}
<link rel="stylesheet" href="{% static 'django_tables2/themes/paleblue/css/screen.css' %}" />

<ul class="breadcrumb">
  <li><a href="{% url 'index' %}">Home</a></li>
  <li><a href="{% url 'staff_list' %}">HR</a></li>
  <li class="active">Staff List</li>
</ul>

<h1>Staff List</h1>

{% endblock %}




{% block table-content %}

<form action="" method="get">
    {{ f.form.as_p }}
    <input type="submit" />
</form>


<table class="table table-striped table-hover ">
    <thead>
        <tr>
        <th>Name</th>
        <th>Position</th>
        <th>Program</th>
        <th>Duty Station</th>
        <th>On Contract</th>
        </tr>
    </thead>

    <tbody>
    {% for s in f.qs %}
        {% if s.get_contract.ending_soon %}
        <tr class="danger">
        {% else %}
        <tr>
        {% endif %}
            <td><a href="{% url 'staff_view' s.id %}">{{ s.last_name }} {{s.first_name }}</a></td>
            {% if s.get_position.title %}
            <td><a href="{% url 'position_view' s.get_position.id %}">{{ s.get_position.title }}</a></td>
            {% else %}
            <td>---</td>
            {% endif %}
            <td>{{ s.get_position.program }}</td>
            <td>{{ s.get_position.duty_station }}</td>
            {% if s.get_contract.ending_soon %}
            <td><strong>ENDING SOON</strong></td>
            {% else %}
            <td>{{ s.active_contract }}</td>
            {% endif %}
        </tr>
    {% endfor %}


    </tbody>



</table>


{% endblock %}